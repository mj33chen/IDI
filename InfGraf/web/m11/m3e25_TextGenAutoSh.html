<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="CA">
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<LINK REL="stylesheet" type="text/css" HREF="../upc.css" >
<script type="text/javascript" src="../upc.js"></script>
<SCRIPT>
top.passara("visreal","textu");
</SCRIPT>
<BODY>
<DIV CLASS="nav">
<a href="m3e20_TextConceptes.html">[Anterior]</a>
<a href="m3e30_TextMapejat.html">[Següent]</a>
</div>
<br><br>

<div class=tit1>Textures.
<span class=tit2>Definicions generals.</span>
<span class=tit3>Exemple de generació automàtica de coordenades de textura amb la funció GL_SPHERE_MAP</span>
</div>


<p>
<PRE class=algoritme>
   /* Imaginem creat un objecte textura 2D amb una fotografia "ull
      de peix" d'un entorn i en una taula l'activem */
   <b>glBindTexture</b> (GL_TEXTURE_1D, texname);

   /* Indiquem  generació automàtica de coordenades de textures,
      el mode per les dues coordenades s i t */
   <b>glTexGen</b> (GL_S, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)
   <b>glTexGen</b> (GL_T, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)

   /* habilitem la generació automàtica de textures */
   <b>glEnable</b> (GL_TEXTURE_GEN_S);
   <b>glEnable</b> (GL_TEXTURE_GEN_T);
   <b>glEnable</b>(GL_TEXTURE_1D);

   /* pintem l'objecte sense incloure cap especificació de coordenades
      de textura */
   <b>PintaObjecte</b>;
</PRE>

<p> Anem a explicitar les funcions de O_mapping i de S_mapping per a
acabar d'entendre la seva aplicació.

<p>L'efecte d'aquest tros de codi serà que en pintar l'objecte per a
cada polígon (cara), OpenGL generarà per a cada vèrtex una coordenada
<i>s</i> de textura. Per a fer-ho substituirà les coordenades del
vèrtex a l'equació del pla y=0; el valor obtingut (distàcia del vèrtex
al pla) serà la seva coordenada de textura. Fixeu-vos que tots els
punts que estan a la mateixa distància al pla (alçada) tindran la
mateixa coordenada de textura (color). Per tant, l'efecte obtingut
serà similar a pintar l'objecte amb franges verdes i vermelles
paral·leles al pla y=0.

<p> Noteu que alguns valors de les coordenades de textura que
s'obtindran poden no estar continguts entre [0.0, 1.0]. Què succeeix?
Ho entendrem millor quan estudiem el filtrat de textures. De moment,
sapigueu que en l'especificació de l'objecte de textura es poden
incloure comandes que indiquen com procedir si les coordenades de
textura estan fora del rang. Una possibilitat és que es repeteixi
circularment la textura, seria com pensar que tenim una textura
infinita en què es repeteix un patró.


<br><br>
<DIV CLASS="nav">
<a href="m3e20_TextConceptes.html">[Anterior]</a>
<a href="m3e30_TextMapejat.html">[Següent]</a>
</div>
</body>
</html>
